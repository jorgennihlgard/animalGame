<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/stylesheet" href="/stylesheet.css">
    <script type="text/javascript" src="script.js"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
   <title>Djurspelet</title>
</head>
<body>

        
       
    <h1>Djurspelet pau svenska</h1>
        
      
            
    <p id="stringObject" style="display: none"><%= JSON.stringify(jsonData) %></p>
                  
       <h4 id="output"></h4>
              
               
                <span id="count">1</span>

               
          
           
              
           
         
                
            
    
        <!-- <form action="/" method="get"> -->
        <input type="text" name="ans">
        <button id="yesBtn" name="answer" value ="Yes">Ja!</button>
        <button id="noBtn" name="answer" value="No">Nej!</button>
   
    <!-- </form> -->
        <br><br>
    <form action="/" method="post">
    <input type="text" placeholder="FrÃ¥ga som urskiljer" name="question">
    <input type="submit" value="Skicka svar">
    </form>

    
</body>
</html>
<script>
    
var yesButton = document.getElementById('yesBtn');
var noButton = document.getElementById('noBtn');
var counter =  document.getElementById("count");
var output = document.getElementById('output');
var stringObject= document.getElementById("stringObject").innerText;
var count=1
var JsonObject = JSON.parse(stringObject)
yesButton.addEventListener("click", function(){

    count = count*=2;
    counter.innerHTML = count
    
   
    var foundObject = findId(JsonObject,count);
   
    
    //output.textContent = foundObject.question
    
});

noButton.addEventListener("click", function(){
    
    count = count*2+1;

    var foundObject = findId(JsonObject,count);

   
   //output.textContent = foundObject.question
     
});


     function findId(JsonObject,count){
        var foundObject = _.find(JsonObject,function(row){ return row.id == count });
        printQuestion(foundObject);
    }

    function printQuestion(objectToPrint){
        output.innerText = objectToPrint.question;
    }
</script>

